(this.webpackJsonpplanets=this.webpackJsonpplanets||[]).push([[0],{33:function(e,t,a){},55:function(e,t,a){"use strict";a.r(t);var n=a(1),c=a(0),s=a.n(c),r=a(25),i=a.n(r),l=(a(33),a(5)),o=a(26),u=a(27),j=a(9),d=a.n(j),b=a(14),O=a(15),m=a.n(O),p=a(8),v=a(4),h=function(e,t){switch(t.type){case"ADD_FILTER":return console.log("REDUCER_ADD",t.payload),Object(v.a)(Object(v.a)({},e),{},{filters:[t.payload].concat(Object(p.a)(e.filters.filter((function(e){return e.name!==t.payload.name}))))});case"REMOVE_FILTER":return console.log("REDUCER_REMOVE",t.payload),Object(v.a)(Object(v.a)({},e),{},{filters:[].concat(Object(p.a)(e.filters.filter((function(e){return e.name!==t.payload.name}))),[t.payload])});case"GET_NEWS":return console.log("GET_REDUCER",t.payload),Object(v.a)(Object(v.a)({},e),{},{news:t.payload});case"LOADED":return console.log("LOADED_REDUCER"),Object(v.a)(Object(v.a)({},e),{},{loadingNews:!1});case"LOADING":return console.log("LOADING_REDUCER"),Object(v.a)(Object(v.a)({},e),{},{news:[],loadingNews:!0});default:return e}},x={news:[],loadingNews:!0,filters:[{name:"general",value:!0},{name:"business",value:!1},{name:"entertainment",value:!1},{name:"sports",value:!1},{name:"science",value:!1},{name:"technology",value:!1},{name:"health",value:!1}]},f="http://api.mediastack.com/v1/news",g="7af921ec33526b42e10f7946b64e9a07",N="en",y=Object(c.createContext)(x),E=function(e){var t=e.children;function a(){return(a=Object(b.a)(d.a.mark((function e(t){var a;return d.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,u({type:"LOADING"}),e.next=4,m.a.get("".concat(f,"?access_key=").concat(g,"& categories=").concat(t,"&languages=").concat(N));case 4:a=e.sent,u({type:"GET_NEWS",payload:a.data.data}),u({type:"LOADED"}),e.next=12;break;case 9:e.prev=9,e.t0=e.catch(0),console.log(e.t0);case 12:case"end":return e.stop()}}),e,null,[[0,9]])})))).apply(this,arguments)}function s(){return(s=Object(b.a)(d.a.mark((function e(t){var a;return d.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,u({type:"LOADING"}),e.next=4,m.a.get("".concat(f,"?access_key=").concat(g,"&keywords=").concat(t,"&languages=").concat(N));case 4:0!==(a=e.sent).data.data.length&&(u({type:"GET_NEWS",payload:a.data.data}),u({type:"LOADED"})),e.next=11;break;case 8:e.prev=8,e.t0=e.catch(0),console.log(e.t0.data);case 11:case"end":return e.stop()}}),e,null,[[0,8]])})))).apply(this,arguments)}var r=Object(c.useReducer)(h,x),i=Object(l.a)(r,2),o=i[0],u=i[1];return Object(n.jsx)(y.Provider,{value:{filters:o.filters,news:o.news,loadingNews:o.loadingNews,addFilter:function(e,t){u({type:"ADD_FILTER",payload:{name:e,value:t}})},removeFilter:function(e,t){u({type:"REMOVE_FILTER",payload:{name:e,value:t}})},getNews:function(e){return a.apply(this,arguments)},noParams:function(){u({type:"LOADING"})},searchNews:function(e){return s.apply(this,arguments)}},children:t})};var w=function(){var e=Object(c.useContext)(y).searchNews,t=Object(c.useState)(""),a=Object(l.a)(t,2),s=a[0],r=a[1];return Object(n.jsxs)("div",{className:"search-comp",children:[Object(n.jsx)("div",{className:"input-comp",children:Object(n.jsx)("input",{className:"search-input",value:s,type:"text",onChange:function(e){return r(e.target.value)}})}),Object(n.jsx)("button",{className:"search-icon",onClick:function(){if(0!==s.length){var t=s.split(" ");t=t.join("+"),e("".concat(t,"+").concat(s)),r("")}},children:Object(n.jsx)(o.a,{className:"icon",icon:u.a})})]})};var D=function(){return Object(n.jsxs)("div",{className:"search-bar",children:[Object(n.jsxs)("div",{className:"title",children:["News",Object(n.jsx)("span",{children:"Flash"})]}),Object(n.jsx)(w,{})]})};var R=function(e){var t=e.name,a=e.value,c=e.handleChange;return Object(n.jsx)("div",{children:Object(n.jsxs)("button",{onClick:function(){return c(t,a)},className:!0===a?"filter-item active":"filter-item in-active",children:[t,a&&Object(n.jsx)("span",{className:"remove",children:"x"})]})})};var F=function(){var e=Object(c.useContext)(y),t=e.filters,a=e.addFilter,s=e.removeFilter;function r(e,t){!0===t?s(e,!t):a(e,!t)}return Object(c.useEffect)((function(){t.some((function(e){return!0===e.value}))||console.log("EMPTY")}),[t]),Object(n.jsx)("div",{className:"container",children:Object(n.jsx)("div",{className:"filters",children:t.map((function(e){return Object(n.jsx)(R,{name:e.name,value:e.value,handleChange:r},e.name)}))})})},_=a.p+"static/media/2687659.d0d24484.jpg",A=a(6);var C=function(e){var t=e.news,a=(e.row,Object(c.useState)(!1)),s=Object(l.a)(a,2),r=s[0],i=s[1],o=["January","Feburary","March","April","May","June","July","August","September","October","November","December"],u={backgroundImage:null!==t.image?"url(".concat(t.image,")"):"url(".concat(_,")"),flexBasis:t.title.length>50?"59%":"33%"};return Object(n.jsxs)("div",{className:"news-card",style:u,onMouseEnter:function(){return i(!0)},onMouseLeave:function(){return i(!1)},children:[Object(n.jsxs)("div",{className:"news-card-source",children:[Object(n.jsx)("div",{className:"source-name",children:t.source}),Object(n.jsx)("div",{className:"publish-date",children:function(e){var t=e[0].split("-");return"".concat(t[2]," ").concat(o[parseInt(t[1])-1],", ").concat(t[0])}(t.published_at.split("T",1))})]}),Object(n.jsx)("div",{className:"news-card-title",children:t.title}),Object(n.jsx)("div",{className:"news-card-desc",children:t.description.length>50?Object(n.jsxs)(n.Fragment,{children:[t.description.substring(0,50),Object(n.jsx)(n.Fragment,{children:"..."})]}):t.description}),r&&Object(n.jsx)(A.a,{children:Object(n.jsx)(A.b.button,{initial:{opacity:0},animate:{opacity:1},exit:{opacity:0},transition:{duration:.5},className:"btn-view",children:"View Story"})}),Object(n.jsxs)("div",{className:"news-catagory",children:["Tags: ",t.category]})]})};var L=function(){return Object(n.jsxs)("div",{className:"loading",children:[Object(n.jsx)("div",{className:"bar"}),Object(n.jsx)("div",{className:"bar"}),Object(n.jsx)("div",{className:"bar"})]})},k=a.p+"static/media/NoRes.b27323e4.svg",I={hidden:{opacity:0},animate:{opacity:1},exit:{opacity:0}};var T=function(){return Object(n.jsx)(A.a,{children:Object(n.jsxs)(A.b.div,{variants:I,initial:"hidden",animate:"animate",exit:"exit",className:"no-result",children:[Object(n.jsx)("img",{src:k,alt:"No-Result",className:"no-result-image"}),Object(n.jsx)(A.b.div,{className:"no-result-title",children:"No Results Found!!!!"})]})})};var M=function(){var e=Object(c.useState)(!1),t=Object(l.a)(e,2),a=t[0],s=t[1],r=Object(c.useContext)(y),i=r.news,o=r.getNews,u=r.loadingNews,j=r.filters,d=r.noParams;return Object(c.useEffect)((function(){var e=[];j.forEach((function(t){!0===t.value&&(e=[t.name].concat(Object(p.a)(e)))})),0!==e.length?(s(!1),e=e.join(),o(e)):(d(),s(!0),console.log("EMPTY"))}),[j]),Object(n.jsx)("div",{children:a?Object(n.jsxs)(n.Fragment,{children:[Object(n.jsx)(T,{})," "]}):u?Object(n.jsx)(n.Fragment,{children:Object(n.jsx)(L,{})}):Object(n.jsx)("div",{className:"news-container",children:i.map((function(e,t){return Object(n.jsx)(C,{news:e},t)}))})})};var G=function(){return Object(n.jsx)(n.Fragment,{children:Object(n.jsxs)(E,{children:[Object(n.jsx)(D,{}),Object(n.jsx)(F,{}),Object(n.jsx)(M,{})]})})};i.a.render(Object(n.jsx)(s.a.StrictMode,{children:Object(n.jsx)(G,{})}),document.getElementById("root"))}},[[55,1,2]]]);
//# sourceMappingURL=main.9da8d2f0.chunk.js.map